import{_ as x}from"./func-121e8e9c.js";import{d as E,r as c,a as P,c as g,b as o,e as v,u as A,t as f,f as D,w as I,F as N,o as h,g as R,p as b,h as k,N as i,i as S,_ as U}from"./index-923e9538.js";const V=""+new URL("logo-b706efd4.png",import.meta.url).href,y=t=>(b("data-v-02c6664d"),t=t(),k(),t),z=y(()=>o("div",{class:"imgcontainer"},[o("img",{src:V,alt:"Avatar",class:"centered-image"})],-1)),B={class:"funitem"},L={key:0,class:"uinfo"},F=["src"],M=y(()=>o("p",null,"UserInfo",-1)),j=E({__name:"home",setup(t){const s=c(!1),n=c(!1),l=c(""),d=c("");let r="";const C=async()=>{r="",s.value=!1,n.value=!1,document.addEventListener("deviceready",p,!1);function p(){i.primary(navigator.camera)}try{if(window.cordova){const e={quality:25,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,encodingType:Camera.EncodingType.JPEG,mediaType:Camera.MediaType.PICTURE};r="data:image/jpeg;base64,"+await(a=>new Promise((w,T)=>{navigator.camera.getPicture(w,T,a)}))(e),S({url:"/recognize",method:"post",headers:{"Content-Type":"multipart/form-data"},data:{file:r}}).then(a=>{s.value=!0,l.value=a.data.result}).catch(a=>{n.value=!0,s.value=!1,d.value=a,i.danger(a)})}else console.log("Cordova is not loaded")}catch(e){i.primary("Error opening camera",e)}};return(p,e)=>{const u=x,m=P("van-popup");return h(),g(N,null,[z,o("div",B,[v(u,{msg:"HandRecognize","background-color":"#e23c13","text-color":"white",onClick:C})]),s.value?(h(),g("div",L,[o("img",{src:A(r),alt:"Avatar",class:"centered-image"},null,8,F),M,o("p",null,f(l.value),1)])):D("",!0),v(m,{show:n.value,"onUpdate:show":e[0]||(e[0]=_=>n.value=_),round:"",position:"bottom",style:{height:"30%"}},{default:I(()=>[R(f(d.value),1)]),_:1},8,["show"])],64)}}});const H=U(j,[["__scopeId","data-v-02c6664d"]]);export{H as default};
